\section{Hardware Thermal Management}

\subsection{Introduction}

\subsubsection*{Temperature Issue Arise}
\begin{itemize}
    \item 과거에는 성능 향상이 제일 중요한 과제였음
    \item 복잡한 미세공정, 높은 clock frequency, Chip area의 감소 $\Rightarrow$ Power Density 증가
    \item Power $\uparrow$ $\Rightarrow$ Power density(전력 밀도) $\uparrow$ $\Rightarrow$ $T$ $\uparrow$ $\Rightarrow$ $P_{\mathrm{leak}}$ $\uparrow$ $\Rightarrow$ Power $\uparrow$: Loop
    \item Multi-core architecture $\Rightarrow$ Thermal problem이 일시적으로 해소
\end{itemize}

\subsubsection*{Importance of Temperature Issue}
\begin{itemize}
    \item 공정미세화의 진행 $\Rightarrow$ 전력 밀도는 exponentially 상승 중 (원자로 수준에 근접)
    \item 신뢰도(reliability) 문제 초래: 수명, 영구적 손상 등
    \item Microprocessor Design Cost
    \begin{itemize}
        \item Core의 개수, 복잡도 등은 processor의 온도에 큰 영향을 미침
        \item 이러한 earliest design stages에서 온도에 관한 고려가 이루어져야 함
    \end{itemize}
    \item 온도는 매우 복잡한 과정으로 예측되며, 환경 요인에 영향을 많이 받음 $\Rightarrow$ 예측 어려움
    \begin{itemize}
        \item 주변 공기, 주변 chip, thermal grease의 종류 등에 영향 받음
    \end{itemize}
\end{itemize}

\subsubsection*{Temperature Management and Power Management}
\begin{itemize}
    \item 온도와 전력은 관계가 깊지만 전력의 절약이 항상 온도 감소를 가져오는 것은 아님
    \begin{itemize}
        \item 예: Memory Bank 도입하여 전력 소모 감소 $\Rightarrow$ 면적 감소로 전력 밀도 증가 $\Rightarrow$ 온도 증가
    \end{itemize}
    \item Power mgmt: 온도가 낮은(= underutilized) 영역에 집중, 변화 속도 빠름
    \item Temperature mgmt: 온도가 높은(= heavily utilized) 영역에 집중, 변화 속도 느림
    \item 두 management에 같은 techniques 사용 가능, But policies are different
\end{itemize}

\subsection{Temperature Monitoring}

\subsubsection*{Importance of Temperature Monitoring}
\begin{itemize}
    \item Chip의 온도는 매우 짧은 순간에 변함 $\Rightarrow$ 정확한 온도 monitoring X $\Rightarrow$ chip 손상 가능
    \item 효과적인 DTM(Dynamic Thermal Management)에 필수적인 요소임
    \item 대부분 CPU는 적어도 10개의 온도 센서를 가지고 있음 $\Rightarrow$ 센서의 데이터는 OS-level에서 읽을 수 있음
    \item Cool Down Techniques
    \begin{itemize}
        \item Thermal throttling: Operation stop, Clock ``literally'' stops. (HW scheme)
        \item DVFS: Power decreases (SW scheme)
    \end{itemize}
\end{itemize}
\pagebreak

\subsubsection*{Importance of On-chip Sensor Placement}
\begin{itemize}
    \item 열원과 센서간의 거리가 조금만 떨어져도 온도의 측정값은 불확실
    \item 열이 많이 발생할 것으로 예상되는 곳에 센서를 배치해야 함
    \item 너무 많은 센서를 배치하면 cost가 증가
    \begin{itemize}
        \item 센서의 면적(작음)보다는 analog-digital converter(큼)로 인해 주로 증가
        \item 최근에는 analog-digial converter를 share하여 사용하기도 함
    \end{itemize}
    \item 제한된 개수의 센서를 최적의 위치에 배치하는 것이 주요 과제
\end{itemize}

\subsubsection*{Techniques of On-chip Sensor Placement}
\begin{itemize}
    \item K-means clustering
    \begin{itemize}
        \item $k$ sensors (clusters) \& $n$ hotspots (data points) $\Rightarrow$ 각 $k$에 대해 optimal point를 찾아냄
    \end{itemize}
    \item Dynamic selection method
    \begin{itemize}
        \item Interpolation을 이용하여 열원 위치를 짐작함
        \item 통신량이 많음 $\Rightarrow$ serious interconnect power overhead
    \end{itemize}
\end{itemize}

\subsubsection*{Temperature Estimation}
\begin{itemize}
    \item Predictive (= Proactive): $T_{\mathrm{th}}$에 도달하기 전에 미리 thermal mgmt 수행
    \item Reactive: $T_{\mathrm{th}}$에 도달하면 thermal mgmt 수행
    \begin{itemize}
        \item 전력을 소모하고 온도가 올라갈 때까지 delay가 있음, Late response $\Rightarrow$ 비효율적!
    \end{itemize}
    \item Instruction의 operator에 따라 사용하는 CPU가 다름을 이용하여 prediction 수행
\end{itemize}

\subsection{(Micro)Architectural Techniques}
